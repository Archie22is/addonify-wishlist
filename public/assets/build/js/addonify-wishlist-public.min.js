!function(r){"use strict";r(document).ready(function(){var s=r("body"),o=r("#addonify-wishlist-modal-wrapper"),d=r("#addonify-wishlist-modal-response"),a=r("#addonify-wishlist-show-sidebar-btn"),n=r("ul.adfy-wishlist-sidebar-items-entry"),e=addonify_wishlist_object.show_popup,l=r(".adfy-wishlist-btn").first().html();function c(i,t){d.html(i.replace("{product_name}",t)),s.addClass("addonify-wishlist-modal-is-open")}(function(){var t="addonify-overlay-btn-wrapper",s="addonify-overlay-btn",i=r("."+t),o=r(".addonify-overlay-buttons");{var d;i.length?o.each(function(){var i=r("button."+s,this).clone();r("button."+s,this).remove(),r("."+t,this).append(i)}):(o.each(function(){r("button."+s,this).wrapAll('<div class=" '+t+' " />')}),d=r("img.attachment-woocommerce_thumbnail").height(),r("."+t).css("height",d+"px"),r("."+t).hover(function(){r(this).css("opacity",1)},function(){r(this).css("opacity",0)}))}})(),r(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),tippy(".adfy-wishlist-tooltip",{content:"",allowHTML:!1,arrow:!1,arrowType:"small",size:"large",delay:10,duration:350,maxWidth:350,placement:"left",animation:"scale"}),s.on("click",".addonify-add-to-wishlist-btn button",function(i){i.preventDefault(),r(this).hasClass("added-to-wishlist")?e&&c(addonify_wishlist_object.product_already_in_wishlist_text,r(this).data("product_name")):function(t){var i={action:addonify_wishlist_object.action,id:r(t).data("product_id"),nonce:addonify_wishlist_object.nonce};if(!(!addonify_wishlist_object.require_login||addonify_wishlist_object.is_logged_in||(!addonify_wishlist_object.redirect_to_login||addonify_wishlist_object.is_logged_in?c(addonify_wishlist_object.login_msg,""):window.location.replace(addonify_wishlist_object.login_url),0)))return;o.addClass("loading"),e?c(addonify_wishlist_object.product_added_to_wishlist_text,r(t).data("product_name")):r(t).text(addonify_wishlist_object.product_adding_to_wishlist_btn_label).attr("disabled",!0);r.post(addonify_wishlist_object.ajax_url,i,function(i){o.removeClass("loading"),1==i.success&&(r("#addonify-wishlist-sidebar-form .empty-wishlist").remove(),r(t).addClass("added-to-wishlist").text(addonify_wishlist_object.product_added_to_wishlist_btn_label),n.append(i.data.msg),a.removeClass("hidden").find(".addonify-wishlist-count").text("("+i.data.wishlist_count+")"))},"json")}(this)}),s.on("click","#addonify-wishlist-close-modal-btn",function(){s.removeClass("addonify-wishlist-modal-is-open")}),s.on("click","#addonify-wishlist-view-wishlist-btn",function(){window.location.href=addonify_wishlist_object.wishlist_page_url}),a.click(function(){s.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")}),s.on("click","input.addonify-wishlist-check-all",function(){r("input.addonify-wishlist-product-id").prop("checked",r(this).prop("checked"))}),s.on("click",".addonify-wishlist-remove-notification",function(){r(this).parents(".addonify-wishlist-notification").remove()}),s.on("click","#addonify-wishlist-sidebar-form button",function(i){i.preventDefault();var s=r(this).parents("li"),o=r("#addonify-wishlist-sticky-sidebar-container .addonify-wishlist-ssc-footer");s.addClass("loading");var d=r(this),t=r("#addonify-wishlist-sidebar-form").serialize()+"&"+encodeURI(d.attr("name"))+"="+encodeURI(d.attr("value"))+"&action="+encodeURI(addonify_wishlist_object.action_sidebar_form);r.post(addonify_wishlist_object.ajax_url,t,function(i){var t="";1==i.success?(t=i.data.msg,a.find(".addonify-wishlist-count").text(i.data.wishlist_count),1==i.data.remove_wishlist&&(r('button.added-to-wishlist[data-product_id="'+d.attr("value")+'"]').removeAttr("disabled").removeClass("added-to-wishlist").html(l),s.remove()),i.data.wishlist_count<1&&!r("#addonify-wishlist-sidebar-form.empty-wishlist").length&&r("#addonify-wishlist-sidebar-form").append('<p class="empty-wishlist">'+addonify_wishlist_object.wishlist_empty_label+"</p>")):t=i.data,s.removeClass("loading"),o.prepend('<div class="notice adfy-wishlist-sidebar-notice"><span>'+t+"</span></div>"),null!=i.data.redirect_url&&setTimeout(function(){window.location.href=i.data.redirect_url},2e3)},"json"),setTimeout(function(){o.find(".notice").fadeOut("fast",function(){r(this).remove()})},5e3)})})}(jQuery);